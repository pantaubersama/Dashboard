<div class="d-flex main-wrapper">
  <%= render("components/sidebar") %>
  <div class="main-wrapper">
    <main class="main col-md-10 offset-md-2" role="main">
      <%= render("components/header") %>
      <div class="tab-content clearfix">
        <div class="main-content quiz tab-pane active" id="all">
          <div class="top ">
            <%= render("components/pagination", pagy: @pagy) %>
            <div class="modal-wrap">
              <button type="button" class="btn btn-green" data-toggle="modal" data-target="#exampleModal">
                Buat Quiz <img src="<%= asset_pack_path("views/assets/images/ic_create-admin.svg") %>" alt="add">
              </button>

              <div class="modal fade" id="exampleModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel"
                aria-hidden="true">
                <div class="modal-dialog" role="document">
                  <div class="modal-content">
                    <div class="modal-header">
                      <!-- <h5 class="modal-title" id="exampleModalLabel">Tambah Admin</h5> -->
                      <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                      </button>
                    </div>
                    <div class="modal-body">
                      <h3>Buat Quiz</h3>
                      <div class="form-wrap">
                        <label>Upload Image</label>
                        <div class="form-group">
                          <div class="upload-image">
                            <input type="file" name="pic" accept="image/*">
                            <span>
                              <p>Upload PNG/JPG</p>
                              <p>Maks 512x512</p>
                            </span>
                          </div>
                        </div>
                      </div>

                      <div class="form-wrap">
                        <label>Judul Quiz</label>
                        <div class="form-group">
                          <div class="form-group">
                            <input type="Email" class="form-control" placeholder="Judul">
                          </div>
                        </div>
                      </div>
                      <div class="form-wrap">
                        <label>Deskripsi</label>
                        <div class="form-group">
                          <div class="form-group">
                            <textarea type="Email" class="form-control" placeholder="Lorem ipsum dolor sit amet"></textarea>
                          </div>
                        </div>
                      </div>
                      <div class="quiz-wrapper">
                        <h3>Pertanyaan 1</h3>
                        <div class="form-wrap">
                          <label>Pertanyaan</label>
                          <div class="form-group">
                            <div class="form-group">
                              <textarea type="Email" class="form-control" placeholder="Lorem ipsum dolor sit amet"></textarea>
                            </div>
                          </div>
                        </div>
                        <div class="form-wrap">
                          <label>Jawaban 1</label>
                          <div class="form-group">
                            <div class="form-group">
                              <textarea type="Email" class="form-control" placeholder="Lorem ipsum dolor sit amet"></textarea>
                            </div>
                          </div>
                        </div>
                        <div class="form-wrap">
                          <label>Jawaban 2</label>
                          <div class="form-group">
                            <div class="form-group">
                              <textarea type="Email" class="form-control" placeholder="Lorem ipsum dolor sit amet"></textarea>
                            </div>
                          </div>
                        </div>
                      </div>
                      <div class="quiz-wrapper">
                        <h3>Pertanyaan 2</h3>
                        <div class="form-wrap">
                          <label>Pertanyaan</label>
                          <div class="form-group">
                            <div class="form-group">
                              <textarea type="Email" class="form-control" placeholder="Lorem ipsum dolor sit amet"></textarea>
                            </div>
                          </div>
                        </div>
                        <div class="form-wrap">
                          <label>Jawaban 1</label>
                          <div class="form-group">
                            <div class="form-group">
                              <textarea type="Email" class="form-control" placeholder="Lorem ipsum dolor sit amet"></textarea>
                            </div>
                          </div>
                        </div>
                        <div class="form-wrap">
                          <label>Jawaban 2</label>
                          <div class="form-group">
                            <div class="form-group">
                              <textarea type="Email" class="form-control" placeholder="Lorem ipsum dolor sit amet"></textarea>
                            </div>
                          </div>
                        </div>
                      </div>

                      <button type="button" class="btn btn-green" data-toggle="modal" data-target="#exampleModal">
                        Tambah Pertanyaan
                        <img src="<%= asset_pack_path("views/assets/images/ic_create-admin.svg") %>" alt="add">
                      </button>
                    </div>
                    <div class="modal-footer">
                      <button type="button" class="btn btn-solid-green" data-dismiss="modal">
                        Create
                      </button>
                      <button type="button" class="btn btn-transparent">Cancel</button>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <div class="content">
            <span class="display-desc">
              <p>
                <%= show_count_table(params[:page], @total_row_per_page, @total_quiz) %>
              </p>
            </span>
            <%= render('components/flash_message')%>
            <div class="table">
              <table>
                <thead>
                  <tr>
                    <th>No</th>
                    <th>Judul Quiz</th>
                    <th>Jumlah Pertanyaan</th>
                    <th>Create At</th>
                    <th></th>
                  </tr>
                </thead>
                <tbody>
                  <% @quiz.each_with_index do |quiz, index| %>
                  <tr>
                    <td class="number bold">
                      <%= ((params[:page].present? ? params[:page].to_i : 1) - 1) * Pagy::VARS[:items] + index+1 %>
                    </td>
                    <td class="name bold"><a href="<%= quiz_path(quiz['id']) %>"><%=  truncate(quiz['title'], :length => 80) %></a></td>
                    <td><%= quiz['quiz_questions_count'] %></td>
                    <td><%= Date.parse(quiz['created_at']) if quiz['created_at'].present? %></td>
                    <td>
                      <button class="dropdown-toggle" type="button" data-toggle="dropdown" aria-haspopup="true"
                        aria-expanded="false">
                        <img src="<%= asset_pack_path("views/assets/images/ic_action.svg") %>">
                      </button>
                      <div class="dropdown-menu" aria-labelledby="action">
                        <a class="dropdown-item" href="edit_quiz">Lihat</a>
                        <a class="dropdown-item" href="#">Edit</a>
                        <a class="dropdown-item" href="#">Hapus</a>
                      </div>
                    </td>
                  </tr>
                  <% end %>
                </tbody>
              </table>
            </div>
            <div class="filter">
              <a class="btn " data-toggle="collapse" href="#filter_quiz_all" role="button" aria-expanded="false" aria-controls="collapseExample">
                <img src="<%= asset_pack_path("views/assets/images/ic_arrow-left.svg") %>">
                <img src="<%= asset_pack_path("views/assets/images/ic_filter.svg") %>">
              </a>
              <div id="filter_quiz_all" class="collapse filter-form">
                <div class="card card-body">
                  <h4>Filter</h4>
                  <%= form_tag(quiz_index_path, method: :get) do %>
                  <div class="form-wrap">
                    <label>Judul Quiz</label>
                    <div class="form-group">
                      <div class="form-group">
                        <input type="nama" name="title" value="<%= params[:title].present? ? params[:title] : nil%>" class="form-control" placeholder="Judul">
                      </div>
                    </div>
                  </div>
                  <button type="submit">Done</button>
                  <% end %>
                </div>
              </div>
            </div>
          </div>
        </div>

        <div class="main-content quiz tab-pane" id="trash">
          <div class="top ">
            <%= render("components/pagination", pagy: @pagy_trash) %>
            <div class="modal-wrap">
              <button type="button" class="btn btn-green" data-toggle="modal" data-target="#exampleModal">
                Buat Quiz <img src="<%= asset_pack_path("views/assets/images/ic_create-admin.svg") %>" alt="add">
              </button>

              <div class="modal fade" id="exampleModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel"
                aria-hidden="true">
                <div class="modal-dialog" role="document">
                  <div class="modal-content">
                    <div class="modal-header">
                      <!-- <h5 class="modal-title" id="exampleModalLabel">Tambah Admin</h5> -->
                      <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                      </button>
                    </div>
                    <div class="modal-body">
                      <h3>Tambah Admin</h3>
                      <div class="form-wrap">
                        <label>User</label>
                        <div class="form-group">
                          <div class="form-group">
                            <input type="Email" class="form-control" placeholder="adellapratitas7@gmail.com">
                          </div>
                        </div>
                      </div>
                    </div>
                    <div class="modal-footer">
                      <button type="button" class="btn btn-solid-green" data-dismiss="modal">
                        Tambah
                      </button>
                      <button type="button" class="btn btn-transparent">Cancel</button>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <div class="content">
            <span class="display-desc">
              <p>
                <%= show_count_table(params[:page_trash], @total_row_per_page_trash, @total_quiz_trash) %>
              </p>
            </span>
            <div class="table">
              <table>
                <thead>
                  <tr>
                    <th>No</th>
                    <th>Judul Quiz</th>
                    <th>Jumlah Pertanyaan</th>
                    <th>Delete At</th>
                  </tr>
                </thead>
                <tbody>
                  <% @quiz_trash.each_with_index do |quiz, index| %>
                  <tr>
                    <td class="number bold">
                      <%= ((params[:page].present? ? params[:page].to_i : 1) - 1) * Pagy::VARS[:items] + index+1 %>
                    </td>
                    <td class="name bold"><a href="<%= quiz_path(quiz['id']) %>"><%=  truncate(quiz['title'], :length => 80) %></a></td>
                    <td><%= quiz['quiz_questions_count'] %></td>
                    <td><%= Date.parse(quiz['created_at']) if quiz['created_at'].present? %></td>
                  </tr>
                  <% end %>

                </tbody>
              </table>
            </div>
            <div class="filter">
              <a class="btn " data-toggle="collapse" href="#filter" role="button" aria-expanded="false" aria-controls="collapseExample">
                <img src="<%= asset_pack_path("views/assets/images/ic_arrow-left.svg") %>">
                <img src="<%= asset_pack_path("views/assets/images/ic_filter.svg") %>">
              </a>
              <div class="collapse filter-form">
                <div class="card card-body">
                  <h4>Filter</h4>
                  <div class="form-wrap">
                    <label>Judul Quiz</label>
                    <div class="form-group">
                      <div class="form-group">
                        <input type="nama" class="form-control" placeholder="Judul">
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </main>
  </div>
</div>
<%= render("components/footer") %>